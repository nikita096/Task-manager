{"remainingRequest":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nikitabugaev/Desktop/t-m/task-manger/src/views/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/src/views/Profile.vue","mtime":1594162039118},{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwppbXBvcnQge3JlcXVpcmVkfSBmcm9tICd2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMnCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKT0+KHsKICAgIG5hbWU6ICcnLAogICAgbG9hZGluZzogdHJ1ZQogIH0pLAogIG1ldGFJbmZvOiB7CiAgICB0aXRsZTogJ9Cf0YDQvtGE0LjQu9GMIHwg0J3QuNC60LjRgtCwIFRNJwogIH0sCiAgbW91bnRlZCgpewogICAgdGhpcy5uYW1lID0gdGhpcy5pbmZvLm5hbWUKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICBNLnVwZGF0ZVRleHRGaWVsZHMoKQogICAgfSwgMCk7CiAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWydpbmZvJ10pCiAgfSwKICB2YWxpZGF0aW9uczogewogICAgbmFtZToge3JlcXVpcmVkfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWyd1cGRhdGVJbmZvJ10pLAogICBhc3luYyBzdWJtaXRIYW5kbGVyKCl7CiAgICAgIGlmKHRoaXMuJHYuJGludmFsaWQpewogICAgICAgIHRoaXMuJHYuJHRvdWNoKCkKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICB0cnkgewogICAgICAgIGF3YWl0IHRoaXMudXBkYXRlSW5mbyh7CiAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUKICAgICAgICB9KQogICAgICAgIHRoaXMuJG1lc3NhZ2UoJ9Cf0YDQvtGE0LjQu9GMINGD0YHQv9C10YjQvdC+INC+0LHQvdC+0LLQu9C10L0nKQogICAgICB9IGNhdGNoIChlcnJvcikge30KICAgIH0KICB9Cn0K"},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Profile.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <Loader v-if=\"loading\"/>\n    <div>\n        <div class=\"page-title pad-2\">\n            <h3>Профиль</h3>\n        </div>\n        <form class=\"form\" @submit.prevent=\"submitHandler\">\n            <div class=\"input-field\">\n                <input\n                    id=\"description\"\n                    type=\"text\"\n                    v-model.trim=\"name\"\n                    :class=\"{invalid: $v.name.$dirty && !$v.name.required}\"\n                >\n                <label for=\"description\">Имя</label>\n                <span \n                    v-if=\"$v.name.$dirty && !$v.name.required\"\n                    class=\"helper-text invalid\"\n                >\n                    Введите Имя\n                </span>\n            </div>\n            <button class=\"btn waves-effect waves-light\" type=\"submit\">\n                Обновить\n            <i class=\"material-icons right\">send</i>\n            </button>\n        </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport {required} from 'vuelidate/lib/validators'\nexport default {\n  data: ()=>({\n    name: '',\n    loading: true\n  }),\n  metaInfo: {\n    title: 'Профиль | Никита TM'\n  },\n  mounted(){\n    this.name = this.info.name\n    setTimeout(() => {\n      M.updateTextFields()\n    }, 0);\n    this.loading = false\n  },\n  computed: {\n    ...mapGetters(['info'])\n  },\n  validations: {\n    name: {required},\n  },\n  methods: {\n    ...mapActions(['updateInfo']),\n   async submitHandler(){\n      if(this.$v.$invalid){\n        this.$v.$touch()\n        return\n      }\n      try {\n        await this.updateInfo({\n          name: this.name\n        })\n        this.$message('Профиль успешно обновлен')\n      } catch (error) {}\n    }\n  }\n}\n</script>"]}]}