{"remainingRequest":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/thread-loader/dist/cjs.js!/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/babel-loader/lib/index.js!/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nikitabugaev/Desktop/t-m/task-manger/src/views/Tasks.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/src/views/Tasks.vue","mtime":1594161830772},{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25pa2l0YWJ1Z2Fldi9EZXNrdG9wL3QtbS90YXNrLW1hbmdlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9uaWtpdGFidWdhZXYvRGVza3RvcC90LW0vdGFzay1tYW5nZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVGFza3NUYWJsZSBmcm9tICdAL2NvbXBvbmVudHMvVGFza3NUYWJsZSc7CmltcG9ydCBwYWdpbmF0aW9uTWl4aW4gZnJvbSAnQC9taXhpbnMvcGFnaW5hdGlvbl9taXhpbic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndGFza3MnLAogIG1ldGFJbmZvOiB7CiAgICB0aXRsZTogJ9Cf0YDQvtGB0LzQvtGC0YAg0LfQsNC00LDRhyB8INCd0LjQutC40YLQsCBUTScKICB9LAogIG1peGluczogW3BhZ2luYXRpb25NaXhpbl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIHJlY29yZHM6IFtdLAogICAgICBkYXRlOiBuZXcgRGF0ZSgpLAogICAgICBmaWx0ZXI6ICdhbGwnCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlY29yZHM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdmZXRjaFJlY29yZHMnKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZWNvcmRzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgX3RoaXMuc2V0dXBSZWNvcmRzKHJlY29yZHMpOwoKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KF90aGlzLiRyZWZzLnNlbGVjdCk7CiAgICAgICAgICAgICAgICBNLnVwZGF0ZVRleHRGaWVsZHMoKTsKICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgZGlzcGxheVRhc2tzOiBmdW5jdGlvbiBkaXNwbGF5VGFza3MoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGZpbHRlclJlY29yZHMgPSB0aGlzLnJlY29yZHMuZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgaWYgKF90aGlzMi5maWx0ZXIgPT09ICdhbGwnKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0LlVwZGF0ZVN0YXR1cyA9PT0gX3RoaXMyLmZpbHRlcjsKICAgICAgfSk7CgogICAgICBpZiAoIWZpbHRlclJlY29yZHMubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB0aGlzLnNldHVwUGFnaW5hdGlvbihmaWx0ZXJSZWNvcmRzKTsKICAgICAgcmV0dXJuIHRoaXMuaXRlbXM7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXR1cFJlY29yZHM6IGZ1bmN0aW9uIHNldHVwUmVjb3JkcyhyZWNvcmRzKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5yZWNvcmRzID0gcmVjb3Jkcy5tYXAoZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJlY29yZCksIHt9LCB7CiAgICAgICAgICBzdGF0dXNDbGFzczogcmVjb3JkLnN0YXR1cyA9PT0gJ2NvbXBsaXRlZCcgPyAnZ3JlZW4nIDogcmVjb3JkLnN0YXR1cyA9PT0gJ2FjdGl2ZScgJiYgbmV3IERhdGUocmVjb3JkLmRhdGUpID4gX3RoaXMzLmRhdGUgPyAneWVsbG93JyA6ICdyZWQnLAogICAgICAgICAgc3RhdHVzVGV4dDogcmVjb3JkLnN0YXR1cyA9PT0gJ2NvbXBsaXRlZCcgPyAnY29tcGxpdGVkJyA6IG5ldyBEYXRlKHJlY29yZC5kYXRlKSA+IF90aGlzMy5kYXRlICYmIHJlY29yZC5zdGF0dXMgPT09ICdhY3RpdmUnID8gJ2FjdGl2ZScgOiAnb3V0ZGF0ZWQnLAogICAgICAgICAgVXBkYXRlU3RhdHVzOiByZWNvcmQuc3RhdHVzID09PSAnY29tcGxpdGVkJyA/ICdjb21wbGl0ZWQnIDogcmVjb3JkLnN0YXR1cyA9PT0gJ2FjdGl2ZScgJiYgbmV3IERhdGUocmVjb3JkLmRhdGUpID4gX3RoaXMzLmRhdGUgPyAnYWN0aXZlJyA6ICdvdXRkYXRlZCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBUYXNrc1RhYmxlOiBUYXNrc1RhYmxlCiAgfQp9Ow=="},{"version":3,"sources":["Tasks.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,OAAA,UAAA,MAAA,yBAAA;AACA,OAAA,eAAA,MAAA,2BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,QAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GAFA;AAKA,EAAA,MAAA,EAAA,CAAA,eAAA,CALA;AAMA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA,IAAA,IAAA,EAHA;AAIA,MAAA,MAAA,EAAA;AAJA,KAAA;AAAA,GANA;AAYA,EAAA,OAZA,qBAYA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,cAAA,CADA;;AAAA;AACA,cAAA,OADA;;AAEA,cAAA,KAAA,CAAA,YAAA,CAAA,OAAA;;AACA,cAAA,UAAA,CAAA,YAAA;AACA,gBAAA,CAAA,CAAA,UAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,MAAA;AACA,gBAAA,CAAA,CAAA,gBAAA;AACA,eAHA,EAGA,CAHA,CAAA;AAIA,cAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,GArBA;AAsBA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,UAAA,aAAA,GAAA,KAAA,OAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,MAAA,KAAA,KAAA,EAAA;AAAA,iBAAA,IAAA;AAAA;;AACA,eAAA,CAAA,CAAA,YAAA,KAAA,MAAA,CAAA,MAAA;AACA,OAHA,CAAA;;AAIA,UAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAA,eAAA,KAAA;AAAA;;AACA,WAAA,eAAA,CAAA,aAAA;AACA,aAAA,KAAA,KAAA;AACA;AATA,GAtBA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,OADA,EACA;AAAA;;AACA,WAAA,OAAA,GAAA,OAAA,CAAA,GAAA,CAAA,UAAA,MAAA,EAAA;AACA,+CACA,MADA;AAEA,UAAA,WAAA,EAAA,MAAA,CAAA,MAAA,KAAA,WAAA,GAAA,OAAA,GAAA,MAAA,CAAA,MAAA,KAAA,QAAA,IAAA,IAAA,IAAA,CAAA,MAAA,CAAA,IAAA,IAAA,MAAA,CAAA,IAAA,GAAA,QAAA,GAAA,KAFA;AAGA,UAAA,UAAA,EAAA,MAAA,CAAA,MAAA,KAAA,WAAA,GAAA,WAAA,GAAA,IAAA,IAAA,CAAA,MAAA,CAAA,IAAA,IAAA,MAAA,CAAA,IAAA,IAAA,MAAA,CAAA,MAAA,KAAA,QAAA,GAAA,QAAA,GAAA,UAHA;AAIA,UAAA,YAAA,EAAA,MAAA,CAAA,MAAA,KAAA,WAAA,GAAA,WAAA,GAAA,MAAA,CAAA,MAAA,KAAA,QAAA,IAAA,IAAA,IAAA,CAAA,MAAA,CAAA,IAAA,IAAA,MAAA,CAAA,IAAA,GAAA,QAAA,GAAA;AAJA;AAOA,OARA,CAAA;AAUA;AAZA,GAjCA;AA+CA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA;AA/CA,CAAA","sourcesContent":["<template>\n    <div>\n        <div class=\"page-title pad-1 \">\n            <h3>Список задач </h3>\n        </div>              \n        <Loader v-if=\"loading\"/>\n        <p class=\"center\" v-else-if=\"!records.length\">Записи отсутствуют.</p>\n        <section v-else> \n            <div class=\"select-width \">\n                <label for=\"filter\">Status filter</label>   \n                <select id=\"filter\" class=\"browser-default input-field \" ref=\"select\" v-model=\"filter\">\n                    <option value=\"all\"  selected>All tasks</option>\n                    <option value=\"active\" >Active</option>\n                    <option value=\"complited\">Complited</option>\n                    <option value=\"outdated\">Outdated</option>\n                </select>\n            </div>\n            <div v-if=\"displayTasks\">\n            <TasksTable :records=\"displayTasks\"/>\n            <Paginate\n                v-model=\"page\"\n                :page-count=\"pageCount\"\n                :click-handler=\"pageChangeHandler\"\n                :prev-text=\"'Назад'\"\n                :next-text=\"'Вперед'\"\n                :container-class=\"'pagination'\"\n                :page-class=\"'waves-effect'\"\n            />  \n            </div>\n            <p class=\"center\" v-else>Записи отсутствуют.</p>\n        </section>\n    </div>\n</template>\n<script>\nimport TasksTable from '@/components/TasksTable'\nimport paginationMixin from '@/mixins/pagination_mixin'\nexport default {\n    name:'tasks',\n    metaInfo: {\n      title: 'Просмотр задач | Никита TM'\n    },\n    mixins: [paginationMixin],\n    data: ()=>({\n        loading: true,\n        records: [],\n        date: new Date(),\n        filter: 'all',\n    }),\n    async mounted(){\n        const records = await this.$store.dispatch('fetchRecords')\n        this.setupRecords(records)\n        setTimeout(() => {\n            M.FormSelect.init(this.$refs.select)\n            M.updateTextFields()\n        }, 0);\n        this.loading= false           \n\n    },\n    computed: {\n        displayTasks(){\n            const filterRecords = this.records.filter( t => {\n                if(this.filter === 'all'){return true}\n                return t.UpdateStatus === this.filter\n            })\n            if(!filterRecords.length){return false}\n            this.setupPagination(filterRecords)\n            return this.items\n        }\n    },\n    methods:{\n        setupRecords(records){\n            this.records = records.map(record =>{\n                return {\n                    ...record,\n                    statusClass: record.status === 'complited' ? 'green' : (record.status === 'active') && (new Date(record.date) > this.date)? 'yellow' : 'red',\n                    statusText:  record.status === 'complited' ? 'complited' : ((new Date(record.date) > this.date) && (record.status === 'active')) ? 'active' : 'outdated',\n                    UpdateStatus: record.status === 'complited' ? 'complited' : (record.status === 'active') && (new Date(record.date) > this.date)? 'active' : 'outdated',\n                    \n                }\n            })\n\n        }\n    },\n    components: {\n        TasksTable\n    }\n}\n</script>\n"],"sourceRoot":"src/views"}]}