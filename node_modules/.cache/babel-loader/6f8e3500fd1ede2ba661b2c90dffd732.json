{"remainingRequest":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/thread-loader/dist/cjs.js!/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/babel-loader/lib/index.js!/Users/nikitabugaev/Desktop/t-m/task-manger/src/store/index.js","dependencies":[{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/src/store/index.js","mtime":1593882980498},{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nikitabugaev/Desktop/t-m/task-manger/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25pa2l0YWJ1Z2Fldi9EZXNrdG9wL3QtbS90YXNrLW1hbmdlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9uaWtpdGFidWdhZXYvRGVza3RvcC90LW0vdGFzay1tYW5nZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgYXV0aCBmcm9tICcuL2F1dGgnOwppbXBvcnQgcmVjb3JkIGZyb20gJy4vcmVjb3JkJzsKVnVlLnVzZShWdWV4KTsKaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlL2FwcCc7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgZXJyb3I6IG51bGwsCiAgICBpbmZvOiB7fQogIH0sCiAgZ2V0dGVyczogewogICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHMpIHsKICAgICAgcmV0dXJuIHMuZXJyb3I7CiAgICB9LAogICAgaW5mbzogZnVuY3Rpb24gaW5mbyhzKSB7CiAgICAgIHJldHVybiBzLmluZm87CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldEVycm9yOiBmdW5jdGlvbiBzZXRFcnJvcihzdGF0ZSwgZXJyb3IpIHsKICAgICAgc3RhdGUuZXJyb3IgPSBlcnJvcjsKICAgIH0sCiAgICBjbGVhckVycm9yOiBmdW5jdGlvbiBjbGVhckVycm9yKHN0YXRlKSB7CiAgICAgIHN0YXRlLmVycm9yID0gbnVsbDsKICAgIH0sCiAgICBzZXRJbmZvOiBmdW5jdGlvbiBzZXRJbmZvKHN0YXRlLCBpbmZvKSB7CiAgICAgIHN0YXRlLmluZm8gPSBpbmZvOwogICAgfSwKICAgIGNsZWFySW5mbzogZnVuY3Rpb24gY2xlYXJJbmZvKHN0YXRlKSB7CiAgICAgIHN0YXRlLmluZm8gPSB7fTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGZldGNoSW5mbzogZnVuY3Rpb24gZmV0Y2hJbmZvKF9yZWYpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIGNvbW1pdCwgdWlkLCBpbmZvOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdnZXRVaWQnKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgdWlkID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCJ1c2Vycy8iLmNvbmNhdCh1aWQsICIvaW5mbyIpKS5vbmNlKCd2YWx1ZScpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBpbmZvID0gX2NvbnRleHQuc2VudC52YWwoKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0SW5mbycsIGluZm8pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRFcnJvcicsIF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBkYXRlSW5mbzogZnVuY3Rpb24gdXBkYXRlSW5mbyhfcmVmMiwgdG9VcGRhdGUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGRpc3BhdGNoLCBjb21taXQsIGdldHRlcnMsIHVpZCwgdXBkYXRlRGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaCwgY29tbWl0ID0gX3JlZjIuY29tbWl0LCBnZXR0ZXJzID0gX3JlZjIuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnZ2V0VWlkJyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHVpZCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgdXBkYXRlRGF0YSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZ2V0dGVycy5pbmZvKSwgdG9VcGRhdGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCIvdXNlcnMvIi5jb25jYXQodWlkLCAiL2luZm8iKSkudXBkYXRlKHVwZGF0ZURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldEluZm8nLCB1cGRhdGVEYXRhKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldEVycm9yJywgX2NvbnRleHQyLnQwKTsKICAgICAgICAgICAgICAgIHRocm93IF9jb250ZXh0Mi50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtb2R1bGVzOiB7CiAgICBhdXRoOiBhdXRoLAogICAgcmVjb3JkOiByZWNvcmQKICB9Cn0pOw=="},{"version":3,"sources":["/Users/nikitabugaev/Desktop/t-m/task-manger/src/store/index.js"],"names":["Vue","Vuex","auth","record","use","firebase","Store","state","error","info","getters","s","mutations","setError","clearError","setInfo","clearInfo","actions","fetchInfo","dispatch","commit","uid","database","ref","once","val","updateInfo","toUpdate","updateData","update","modules"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;AAEA,OAAOI,QAAP,MAAsB,cAAtB;AACA,eAAe,IAAIJ,IAAI,CAACK,KAAT,CAAe;AAC1BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE,IADF;AAELC,IAAAA,IAAI,EAAG;AAFF,GADmB;AAK1BC,EAAAA,OAAO,EAAE;AACPF,IAAAA,KAAK,EAAE,eAAAG,CAAC;AAAA,aAAGA,CAAC,CAACH,KAAL;AAAA,KADD;AAEPC,IAAAA,IAAI,EAAG,cAAAE,CAAC;AAAA,aAAIA,CAAC,CAACF,IAAN;AAAA;AAFD,GALiB;AAS1BG,EAAAA,SAAS,EAAE;AACTC,IAAAA,QADS,oBACCN,KADD,EACQC,KADR,EACc;AACrBD,MAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AAED,KAJQ;AAKTM,IAAAA,UALS,sBAKEP,KALF,EAKQ;AACfA,MAAAA,KAAK,CAACC,KAAN,GAAc,IAAd;AACD,KAPQ;AAQTO,IAAAA,OARS,mBAQDR,KARC,EAQME,IARN,EAQW;AAClBF,MAAAA,KAAK,CAACE,IAAN,GAAaA,IAAb;AACD,KAVQ;AAWTO,IAAAA,SAXS,qBAWET,KAXF,EAWQ;AACbA,MAAAA,KAAK,CAACE,IAAN,GAAa,EAAb;AACH;AAbQ,GATe;AAwB1BQ,EAAAA,OAAO,EAAE;AACDC,IAAAA,SADC,2BAC4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAlBC,gBAAAA,QAAkB,QAAlBA,QAAkB,EAARC,MAAQ,QAARA,MAAQ;AAAA;AAAA;AAAA,uBAEXD,QAAQ,CAAC,QAAD,CAFG;;AAAA;AAEvBE,gBAAAA,GAFuB;AAAA;AAAA,uBAGThB,QAAQ,CAACiB,QAAT,GAAoBC,GAApB,iBAAiCF,GAAjC,YAA6CG,IAA7C,CAAkD,OAAlD,CAHS;;AAAA;AAGvBf,gBAAAA,IAHuB,iBAGmDgB,GAHnD;AAI7BL,gBAAAA,MAAM,CAAC,SAAD,EAAYX,IAAZ,CAAN;AAJ6B;AAAA;;AAAA;AAAA;AAAA;AAM7BW,gBAAAA,MAAM,CAAC,UAAD,cAAN;AAN6B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASlC,KAVM;AAWDM,IAAAA,UAXC,6BAWuCC,QAXvC,EAWgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAArCR,gBAAAA,QAAqC,SAArCA,QAAqC,EAA3BC,MAA2B,SAA3BA,MAA2B,EAAnBV,OAAmB,SAAnBA,OAAmB;AAAA;AAAA;AAAA,uBAE/BS,QAAQ,CAAC,QAAD,CAFuB;;AAAA;AAE3CE,gBAAAA,GAF2C;AAG3CO,gBAAAA,UAH2C,mCAG1BlB,OAAO,CAACD,IAHkB,GAGTkB,QAHS;AAAA;AAAA,uBAI3CtB,QAAQ,CAACiB,QAAT,GAAoBC,GAApB,kBAAkCF,GAAlC,YAA8CQ,MAA9C,CAAqDD,UAArD,CAJ2C;;AAAA;AAKjDR,gBAAAA,MAAM,CAAC,SAAD,EAAYQ,UAAZ,CAAN;AALiD;AAAA;;AAAA;AAAA;AAAA;AAOjDR,gBAAAA,MAAM,CAAC,UAAD,eAAN;AAPiD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUtD;AArBM,GAxBiB;AA+C1BU,EAAAA,OAAO,EAAE;AACP5B,IAAAA,IAAI,EAAJA,IADO;AACDC,IAAAA,MAAM,EAANA;AADC;AA/CiB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport auth from './auth'\nimport record from './record'\nVue.use(Vuex)\n\nimport firebase  from 'firebase/app'\nexport default new Vuex.Store({\n    state: {\n      error: null,\n      info : {}\n    },\n    getters: {\n      error: s =>s.error,\n      info : s => s.info \n    },\n    mutations: {\n      setError (state, error){\n        state.error = error\n        \n      },\n      clearError(state){\n        state.error = null\n      },\n      setInfo(state, info){\n        state.info = info\n      },\n      clearInfo (state){\n          state.info = {} \n      }\n    },\n    actions: {\n      async fetchInfo({dispatch, commit}){\n        try {\n            const uid = await dispatch('getUid')\n            const info = (await firebase.database().ref(`users/${uid}/info`).once('value')).val()\n            commit('setInfo', info)\n        } catch (error) {\n            commit('setError', error)\n            throw error\n        }  \n      },\n      async updateInfo({dispatch, commit, getters}, toUpdate){\n        try {\n            const uid = await dispatch('getUid')\n            const updateData = {...getters.info, ...toUpdate}\n            await firebase.database().ref(`/users/${uid}/info`).update(updateData)\n            commit('setInfo', updateData)\n        } catch (error) {\n            commit('setError', error)\n            throw error\n        }\n      }\n    },\n    modules: {\n      auth, record\n    }\n})\n"]}]}